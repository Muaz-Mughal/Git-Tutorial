utility functions for code 2