utility functions for code 4